name: polysemy-hasql
synopsis: Polysemy effects for Hasql
<<: !include shared/meta.yaml
defaults:
  local: shared/defaults.yaml

library:
  source-dirs: lib
  generated-exposed-modules:
    - Paths_polysemy_hasql

tests:
  polysemy-hasql-unit:
    <<: !include shared/test.yaml
    source-dirs: test
  polysemy-hasql-integration:
    <<: !include shared/test.yaml
    source-dirs: integration

dependencies:
  - async
  - chronos
  - contravariant
  - ghc-prim
  - first-class-families
  - fcf-containers
  - hasql ^>= 1.4.3
  - path
  - polysemy-db-data
  - polysemy-plugin
  - polysemy-resume
  - polysemy-time
  - postgresql-libpq
  - scientific
  - stm-chans
  - symbols
  - time
  - uuid
  - vector
  - name: polysemy-db
    mixin:
      - hiding (Polysemy.Db.Prelude)
      - (Polysemy.Db.Prelude as Prelude)

ghc-options:
  - -fplugin=Polysemy.Plugin
  - -O2
  - -flate-specialise
  - -fspecialise-aggressively
