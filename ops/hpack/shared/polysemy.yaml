<<: !include extensions.yaml

dependencies:
  - aeson
  - base-noprelude
  - bytestring
  - composition
  - composition-extra
  - composition-prelude
  - containers
  - data-default
  - either
  - generics-sop
  - hedgehog
  - lens
  - polysemy
  - relude
  - sop-core
  - tasty
  - tasty-hedgehog
  - text
  - type-errors

when:
  - condition: '!arch(arm) && !arch(aarch64)'
    ghc-options:
      - -fplugin=Polysemy.Plugin
    dependencies:
      - polysemy-plugin

ghc-options:
  - -O2
  - -Wall
  - -Werror
  - -flate-specialise
  - -fspecialise-aggressively
